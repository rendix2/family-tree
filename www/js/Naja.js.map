{"version":3,"file":"Naja.js","sources":["../node_modules/abortcontroller-polyfill/dist/polyfill-patch-fetch.js","../node_modules/event-target-shim/dist/event-target-shim.mjs","../src/polyfills.js","../src/core/UIHandler.js","../src/core/FormsHandler.js","../src/core/RedirectHandler.js","../src/core/SnippetHandler.js","../src/core/HistoryHandler.js","../src/core/ScriptLoader.js","../src/Naja.js","../src/extensions/AbortExtension.js","../src/extensions/UniqueExtension.js","../src/index.js"],"sourcesContent":["(function (factory) {\n  typeof define === 'function' && define.amd ? define(factory) :\n  factory();\n}((function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  var Emitter = /*#__PURE__*/function () {\n    function Emitter() {\n      _classCallCheck(this, Emitter);\n\n      Object.defineProperty(this, 'listeners', {\n        value: {},\n        writable: true,\n        configurable: true\n      });\n    }\n\n    _createClass(Emitter, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, callback) {\n        if (!(type in this.listeners)) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push(callback);\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, callback) {\n        if (!(type in this.listeners)) {\n          return;\n        }\n\n        var stack = this.listeners[type];\n\n        for (var i = 0, l = stack.length; i < l; i++) {\n          if (stack[i] === callback) {\n            stack.splice(i, 1);\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(event) {\n        var _this = this;\n\n        if (!(event.type in this.listeners)) {\n          return;\n        }\n\n        var debounce = function debounce(callback) {\n          setTimeout(function () {\n            return callback.call(_this, event);\n          });\n        };\n\n        var stack = this.listeners[event.type];\n\n        for (var i = 0, l = stack.length; i < l; i++) {\n          debounce(stack[i]);\n        }\n\n        return !event.defaultPrevented;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  var AbortSignal = /*#__PURE__*/function (_Emitter) {\n    _inherits(AbortSignal, _Emitter);\n\n    var _super = _createSuper(AbortSignal);\n\n    function AbortSignal() {\n      var _this2;\n\n      _classCallCheck(this, AbortSignal);\n\n      _this2 = _super.call(this); // Some versions of babel does not transpile super() correctly for IE <= 10, if the parent\n      // constructor has failed to run, then \"this.listeners\" will still be undefined and then we call\n      // the parent constructor directly instead as a workaround. For general details, see babel bug:\n      // https://github.com/babel/babel/issues/3041\n      // This hack was added as a fix for the issue described here:\n      // https://github.com/Financial-Times/polyfill-library/pull/59#issuecomment-477558042\n\n      if (!_this2.listeners) {\n        Emitter.call(_assertThisInitialized(_this2));\n      } // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n      // we want Object.keys(new AbortController().signal) to be [] for compat with the native impl\n\n\n      Object.defineProperty(_assertThisInitialized(_this2), 'aborted', {\n        value: false,\n        writable: true,\n        configurable: true\n      });\n      Object.defineProperty(_assertThisInitialized(_this2), 'onabort', {\n        value: null,\n        writable: true,\n        configurable: true\n      });\n      return _this2;\n    }\n\n    _createClass(AbortSignal, [{\n      key: \"toString\",\n      value: function toString() {\n        return '[object AbortSignal]';\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(event) {\n        if (event.type === 'abort') {\n          this.aborted = true;\n\n          if (typeof this.onabort === 'function') {\n            this.onabort.call(this, event);\n          }\n        }\n\n        _get(_getPrototypeOf(AbortSignal.prototype), \"dispatchEvent\", this).call(this, event);\n      }\n    }]);\n\n    return AbortSignal;\n  }(Emitter);\n  var AbortController = /*#__PURE__*/function () {\n    function AbortController() {\n      _classCallCheck(this, AbortController);\n\n      // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n      // we want Object.keys(new AbortController()) to be [] for compat with the native impl\n      Object.defineProperty(this, 'signal', {\n        value: new AbortSignal(),\n        writable: true,\n        configurable: true\n      });\n    }\n\n    _createClass(AbortController, [{\n      key: \"abort\",\n      value: function abort() {\n        var event;\n\n        try {\n          event = new Event('abort');\n        } catch (e) {\n          if (typeof document !== 'undefined') {\n            if (!document.createEvent) {\n              // For Internet Explorer 8:\n              event = document.createEventObject();\n              event.type = 'abort';\n            } else {\n              // For Internet Explorer 11:\n              event = document.createEvent('Event');\n              event.initEvent('abort', false, false);\n            }\n          } else {\n            // Fallback where document isn't available:\n            event = {\n              type: 'abort',\n              bubbles: false,\n              cancelable: false\n            };\n          }\n        }\n\n        this.signal.dispatchEvent(event);\n      }\n    }, {\n      key: \"toString\",\n      value: function toString() {\n        return '[object AbortController]';\n      }\n    }]);\n\n    return AbortController;\n  }();\n\n  if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n    // These are necessary to make sure that we get correct output for:\n    // Object.prototype.toString.call(new AbortController())\n    AbortController.prototype[Symbol.toStringTag] = 'AbortController';\n    AbortSignal.prototype[Symbol.toStringTag] = 'AbortSignal';\n  }\n\n  function polyfillNeeded(self) {\n    if (self.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n      console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill');\n      return true;\n    } // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n    // defining window.Request, and this polyfill need to work on top of unfetch\n    // so the below feature detection needs the !self.AbortController part.\n    // The Request.prototype check is also needed because Safari versions 11.1.2\n    // up to and including 12.1.x has a window.AbortController present but still\n    // does NOT correctly implement abortable fetch:\n    // https://bugs.webkit.org/show_bug.cgi?id=174980#c2\n\n\n    return typeof self.Request === 'function' && !self.Request.prototype.hasOwnProperty('signal') || !self.AbortController;\n  }\n\n  /**\n   * Note: the \"fetch.Request\" default value is available for fetch imported from\n   * the \"node-fetch\" package and not in browsers. This is OK since browsers\n   * will be importing umd-polyfill.js from that path \"self\" is passed the\n   * decorator so the default value will not be used (because browsers that define\n   * fetch also has Request). One quirky setup where self.fetch exists but\n   * self.Request does not is when the \"unfetch\" minimal fetch polyfill is used\n   * on top of IE11; for this case the browser will try to use the fetch.Request\n   * default value which in turn will be undefined but then then \"if (Request)\"\n   * will ensure that you get a patched fetch but still no Request (as expected).\n   * @param {fetch, Request = fetch.Request}\n   * @returns {fetch: abortableFetch, Request: AbortableRequest}\n   */\n\n  function abortableFetchDecorator(patchTargets) {\n    if ('function' === typeof patchTargets) {\n      patchTargets = {\n        fetch: patchTargets\n      };\n    }\n\n    var _patchTargets = patchTargets,\n        fetch = _patchTargets.fetch,\n        _patchTargets$Request = _patchTargets.Request,\n        NativeRequest = _patchTargets$Request === void 0 ? fetch.Request : _patchTargets$Request,\n        NativeAbortController = _patchTargets.AbortController,\n        _patchTargets$__FORCE = _patchTargets.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n        __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL = _patchTargets$__FORCE === void 0 ? false : _patchTargets$__FORCE;\n\n    if (!polyfillNeeded({\n      fetch: fetch,\n      Request: NativeRequest,\n      AbortController: NativeAbortController,\n      __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL\n    })) {\n      return {\n        fetch: fetch,\n        Request: Request\n      };\n    }\n\n    var Request = NativeRequest; // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n    // defining window.Request, and this polyfill need to work on top of unfetch\n    // hence we only patch it if it's available. Also we don't patch it if signal\n    // is already available on the Request prototype because in this case support\n    // is present and the patching below can cause a crash since it assigns to\n    // request.signal which is technically a read-only property. This latter error\n    // happens when you run the main5.js node-fetch example in the repo\n    // \"abortcontroller-polyfill-examples\". The exact error is:\n    //   request.signal = init.signal;\n    //   ^\n    // TypeError: Cannot set property signal of #<Request> which has only a getter\n\n    if (Request && !Request.prototype.hasOwnProperty('signal') || __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n      Request = function Request(input, init) {\n        var signal;\n\n        if (init && init.signal) {\n          signal = init.signal; // Never pass init.signal to the native Request implementation when the polyfill has\n          // been installed because if we're running on top of a browser with a\n          // working native AbortController (i.e. the polyfill was installed due to\n          // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n          // fake AbortSignal to the native fetch will trigger:\n          // TypeError: Failed to construct 'Request': member signal is not of type AbortSignal.\n\n          delete init.signal;\n        }\n\n        var request = new NativeRequest(input, init);\n\n        if (signal) {\n          Object.defineProperty(request, 'signal', {\n            writable: false,\n            enumerable: false,\n            configurable: true,\n            value: signal\n          });\n        }\n\n        return request;\n      };\n\n      Request.prototype = NativeRequest.prototype;\n    }\n\n    var realFetch = fetch;\n\n    var abortableFetch = function abortableFetch(input, init) {\n      var signal = Request && Request.prototype.isPrototypeOf(input) ? input.signal : init ? init.signal : undefined;\n\n      if (signal) {\n        var abortError;\n\n        try {\n          abortError = new DOMException('Aborted', 'AbortError');\n        } catch (err) {\n          // IE 11 does not support calling the DOMException constructor, use a\n          // regular error object on it instead.\n          abortError = new Error('Aborted');\n          abortError.name = 'AbortError';\n        } // Return early if already aborted, thus avoiding making an HTTP request\n\n\n        if (signal.aborted) {\n          return Promise.reject(abortError);\n        } // Turn an event into a promise, reject it once `abort` is dispatched\n\n\n        var cancellation = new Promise(function (_, reject) {\n          signal.addEventListener('abort', function () {\n            return reject(abortError);\n          }, {\n            once: true\n          });\n        });\n\n        if (init && init.signal) {\n          // Never pass .signal to the native implementation when the polyfill has\n          // been installed because if we're running on top of a browser with a\n          // working native AbortController (i.e. the polyfill was installed due to\n          // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n          // fake AbortSignal to the native fetch will trigger:\n          // TypeError: Failed to execute 'fetch' on 'Window': member signal is not of type AbortSignal.\n          delete init.signal;\n        } // Return the fastest promise (don't need to wait for request to finish)\n\n\n        return Promise.race([cancellation, realFetch(input, init)]);\n      }\n\n      return realFetch(input, init);\n    };\n\n    return {\n      fetch: abortableFetch,\n      Request: Request\n    };\n  }\n\n  (function (self) {\n\n    if (!polyfillNeeded(self)) {\n      return;\n    }\n\n    if (!self.fetch) {\n      console.warn('fetch() is not available, cannot install abortcontroller-polyfill');\n      return;\n    }\n\n    var _abortableFetch = abortableFetchDecorator(self),\n        fetch = _abortableFetch.fetch,\n        Request = _abortableFetch.Request;\n\n    self.fetch = fetch;\n    self.Request = Request;\n    Object.defineProperty(self, 'AbortController', {\n      writable: true,\n      enumerable: false,\n      configurable: true,\n      value: AbortController\n    });\n    Object.defineProperty(self, 'AbortSignal', {\n      writable: true,\n      enumerable: false,\n      configurable: true,\n      value: AbortSignal\n    });\n  })(typeof self !== 'undefined' ? self : global);\n\n})));\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexport default EventTarget;\nexport { defineEventAttribute, EventTarget };\n//# sourceMappingURL=event-target-shim.mjs.map\n","// https://bugs.webkit.org/show_bug.cgi?id=174980\nimport 'abortcontroller-polyfill/dist/polyfill-patch-fetch';\n\n// https://github.com/whatwg/dom/pull/467\nimport {EventTarget} from 'event-target-shim';\ntry {\n\tnew window.EventTarget();\n} catch (error) {\n\twindow.EventTarget = EventTarget;\n}\n","export class UIHandler extends EventTarget {\n\tselector = '.ajax';\n\tallowedOrigins = [window.location.origin];\n\thandler = this.handleUI.bind(this);\n\n\tconstructor(naja) {\n\t\tsuper();\n\t\tthis.naja = naja;\n\t\tnaja.addEventListener('init', this.initialize.bind(this));\n\t}\n\n\tinitialize() {\n\t\tthis.bindUI(window.document.body);\n\t\tthis.naja.snippetHandler.addEventListener('afterUpdate', (event) => {\n\t\t\tconst {snippet} = event.detail;\n\t\t\tthis.bindUI(snippet);\n\t\t});\n\t}\n\n\tbindUI(element) {\n\t\tconst selectors = [\n\t\t\t`a${this.selector}`,\n\t\t\t`input[type=\"submit\"]${this.selector}`,\n\t\t\t`input[type=\"image\"]${this.selector}`,\n\t\t\t`button[type=\"submit\"]${this.selector}`,\n\t\t\t`form${this.selector} input[type=\"submit\"]`,\n\t\t\t`form${this.selector} input[type=\"image\"]`,\n\t\t\t`form${this.selector} button[type=\"submit\"]`,\n\t\t].join(', ');\n\n\t\tconst bindElement = (element) => {\n\t\t\telement.removeEventListener('click', this.handler);\n\t\t\telement.addEventListener('click', this.handler);\n\t\t};\n\n\t\tconst elements = element.querySelectorAll(selectors);\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tbindElement(elements.item(i));\n\t\t}\n\n\t\tif (element.matches(selectors)) {\n\t\t\tbindElement(element);\n\t\t}\n\n\t\tconst bindForm = (form) => {\n\t\t\tform.removeEventListener('submit', this.handler);\n\t\t\tform.addEventListener('submit', this.handler);\n\t\t};\n\n\t\tif (element.matches(`form${this.selector}`)) {\n\t\t\tbindForm(element);\n\t\t}\n\n\t\tconst forms = element.querySelectorAll(`form${this.selector}`);\n\t\tfor (let i = 0; i < forms.length; i++) {\n\t\t\tbindForm(forms.item(i));\n\t\t}\n\t}\n\n\thandleUI(event) {\n\t\tif (event.altKey || event.ctrlKey || event.shiftKey || event.metaKey || event.button) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = event.currentTarget;\n\t\tconst options = {};\n\n\t\tif (event.type === 'submit') {\n\t\t\tthis.submitForm(element, options, event);\n\n\t\t} else if (event.type === 'click') {\n\t\t\tthis.clickElement(element, options, event);\n\t\t}\n\t}\n\n\tclickElement(element, options = {}, event) {\n\t\tlet method, url, data;\n\n\t\tif ( ! this.dispatchEvent(new CustomEvent('interaction', {cancelable: true, detail: {element, originalEvent: event, options}}))) {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (element.tagName === 'A') {\n\t\t\tmethod = 'GET';\n\t\t\turl = element.href;\n\t\t\tdata = null;\n\n\t\t} else if (element.tagName === 'INPUT' || element.tagName === 'BUTTON') {\n\t\t\tconst {form} = element;\n\t\t\t// eslint-disable-next-line no-nested-ternary,no-extra-parens\n\t\t\tmethod = element.hasAttribute('formmethod') ? element.getAttribute('formmethod').toUpperCase() : (form.hasAttribute('method') ? form.getAttribute('method').toUpperCase() : 'GET');\n\t\t\turl = element.getAttribute('formaction') || form.getAttribute('action') || window.location.pathname + window.location.search;\n\t\t\tdata = new FormData(form);\n\n\t\t\tif (element.type === 'submit' || element.tagName === 'BUTTON') {\n\t\t\t\tdata.append(element.name, element.value || '');\n\n\t\t\t} else if (element.type === 'image') {\n\t\t\t\tconst coords = element.getBoundingClientRect();\n\t\t\t\tdata.append(`${element.name}.x`, Math.max(0, Math.floor(event.pageX - coords.left)));\n\t\t\t\tdata.append(`${element.name}.y`, Math.max(0, Math.floor(event.pageY - coords.top)));\n\t\t\t}\n\t\t}\n\n\t\tif (this.isUrlAllowed(url)) {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tthis.naja.makeRequest(method, url, data, options);\n\t\t}\n\t}\n\n\tsubmitForm(form, options = {}, event) {\n\t\tif ( ! this.dispatchEvent(new CustomEvent('interaction', {cancelable: true, detail: {element: form, originalEvent: event, options}}))) {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst method = form.hasAttribute('method') ? form.getAttribute('method').toUpperCase() : 'GET';\n\t\tconst url = form.getAttribute('action') || window.location.pathname + window.location.search;\n\t\tconst data = new FormData(form);\n\n\t\tif (this.isUrlAllowed(url)) {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tthis.naja.makeRequest(method, url, data, options);\n\t\t}\n\t}\n\n\tisUrlAllowed(url) {\n\t\t// ignore non-URL URIs (javascript:, data:, ...)\n\t\tif (/^(?!https?)[^:/?#]+:/i.test(url)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! /^https?/i.test(url) || this.allowedOrigins.some((origin) => new RegExp(`^${origin}`, 'i').test(url));\n\t}\n}\n","export class FormsHandler {\n\tnetteForms;\n\n\tconstructor(naja) {\n\t\tthis.naja = naja;\n\t\tnaja.addEventListener('init', this.initialize.bind(this));\n\t\tnaja.uiHandler.addEventListener('interaction', this.processForm.bind(this));\n\t}\n\n\tinitialize() {\n\t\tthis.initForms(window.document.body);\n\t\tthis.naja.snippetHandler.addEventListener('afterUpdate', (event) => {\n\t\t\tconst {snippet} = event.detail;\n\t\t\tthis.initForms(snippet);\n\t\t});\n\t}\n\n\tinitForms(element) {\n\t\tconst netteForms = this.netteForms || window.Nette;\n\t\tif (netteForms) {\n\t\t\tif (element.tagName === 'form') {\n\t\t\t\tnetteForms.initForm(element);\n\t\t\t}\n\n\t\t\tconst forms = element.querySelectorAll('form');\n\t\t\tfor (let i = 0; i < forms.length; i++) {\n\t\t\t\tnetteForms.initForm(forms.item(i));\n\t\t\t}\n\t\t}\n\t}\n\n\tprocessForm(event) {\n\t\tconst {element, originalEvent} = event.detail;\n\n\t\tif (element.form) {\n\t\t\telement.form['nette-submittedBy'] = element;\n\t\t}\n\n\t\tconst netteForms = this.netteForms || window.Nette;\n\t\tif ((element.tagName === 'FORM' || element.form) && netteForms && ! netteForms.validateForm(element)) {\n\t\t\tif (originalEvent) {\n\t\t\t\toriginalEvent.stopImmediatePropagation();\n\t\t\t\toriginalEvent.preventDefault();\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n}\n","export class RedirectHandler extends EventTarget {\n\tconstructor(naja) {\n\t\tsuper();\n\t\tthis.naja = naja;\n\n\t\tnaja.uiHandler.addEventListener('interaction', (event) => {\n\t\t\tconst {element, options} = event.detail;\n\t\t\tif ( ! element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (element.hasAttribute('data-naja-force-redirect') || element.form?.hasAttribute('data-naja-force-redirect')) {\n\t\t\t\tconst value = element.getAttribute('data-naja-force-redirect') ?? element.form?.getAttribute('data-naja-force-redirect');\n\t\t\t\toptions.forceRedirect = value !== 'off';\n\t\t\t}\n\t\t});\n\n\t\tnaja.addEventListener('success', (event) => {\n\t\t\tconst {payload, options} = event.detail;\n\t\t\tif (payload.redirect) {\n\t\t\t\tthis.makeRedirect(payload.redirect, options.forceRedirect, options);\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t});\n\n\t\tthis.locationAdapter = {\n\t\t\tassign: (url) => window.location.assign(url),\n\t\t};\n\t}\n\n\tmakeRedirect(url, force, options = {}) {\n\t\tif (url instanceof URL) {\n\t\t\turl = url.href;\n\t\t}\n\n\t\tlet isHardRedirect = force || ! this.naja.uiHandler.isUrlAllowed(url);\n\t\tconst canRedirect = this.dispatchEvent(new CustomEvent('redirect', {\n\t\t\tcancelable: true,\n\t\t\tdetail: {\n\t\t\t\turl,\n\t\t\t\tisHardRedirect,\n\t\t\t\tsetHardRedirect(value) {\n\t\t\t\t\tisHardRedirect = !!value;\n\t\t\t\t},\n\t\t\t\toptions,\n\t\t\t},\n\t\t}));\n\n\t\tif ( ! canRedirect) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isHardRedirect) {\n\t\t\tthis.locationAdapter.assign(url);\n\n\t\t} else {\n\t\t\tthis.naja.makeRequest('GET', url, null, options);\n\t\t}\n\t}\n}\n","export class SnippetHandler extends EventTarget {\n\top = {\n\t\treplace: (snippet, content) => {\n\t\t\tsnippet.innerHTML = content;\n\t\t},\n\t\tprepend: (snippet, content) => snippet.insertAdjacentHTML('afterbegin', content),\n\t\tappend: (snippet, content) => snippet.insertAdjacentHTML('beforeend', content),\n\t};\n\n\tconstructor(naja) {\n\t\tsuper();\n\t\tnaja.addEventListener('success', (event) => {\n\t\t\tconst {options, payload} = event.detail;\n\t\t\tif (payload.snippets) {\n\t\t\t\tthis.updateSnippets(payload.snippets, false, options);\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateSnippets(snippets, fromCache = false, options = {}) {\n\t\tObject.keys(snippets).forEach((id) => {\n\t\t\tconst snippet = document.getElementById(id);\n\t\t\tif (snippet) {\n\t\t\t\tthis.updateSnippet(snippet, snippets[id], fromCache, options);\n\t\t\t}\n\t\t});\n\t}\n\n\tupdateSnippet(snippet, content, fromCache, options) {\n\t\tlet operation = this.op.replace;\n\t\tif ((snippet.hasAttribute('data-naja-snippet-prepend') || snippet.hasAttribute('data-ajax-prepend')) && ! fromCache) {\n\t\t\toperation = this.op.prepend;\n\t\t} else if ((snippet.hasAttribute('data-naja-snippet-append') || snippet.hasAttribute('data-ajax-append')) && ! fromCache) {\n\t\t\toperation = this.op.append;\n\t\t}\n\n\t\tconst canUpdate = this.dispatchEvent(new CustomEvent('beforeUpdate', {\n\t\t\tcancelable: true,\n\t\t\tdetail: {\n\t\t\t\tsnippet,\n\t\t\t\tcontent,\n\t\t\t\tfromCache,\n\t\t\t\toperation,\n\t\t\t\tchangeOperation(value) {\n\t\t\t\t\toperation = value;\n\t\t\t\t},\n\t\t\t\toptions,\n\t\t\t},\n\t\t}));\n\n\t\tif ( ! canUpdate) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (snippet.tagName.toLowerCase() === 'title') {\n\t\t\tdocument.title = content;\n\t\t} else {\n\t\t\toperation(snippet, content);\n\t\t}\n\n\t\tthis.dispatchEvent(new CustomEvent('afterUpdate', {\n\t\t\tcancelable: true,\n\t\t\tdetail: {\n\t\t\t\tsnippet,\n\t\t\t\tcontent,\n\t\t\t\tfromCache,\n\t\t\t\toperation,\n\t\t\t\toptions,\n\t\t\t},\n\t\t}));\n\t}\n}\n","export class HistoryHandler {\n\thref = null;\n\tuiCache = true;\n\n\tconstructor(naja) {\n\t\tthis.naja = naja;\n\n\t\tnaja.addEventListener('init', this.initialize.bind(this));\n\t\tnaja.addEventListener('before', this.saveUrl.bind(this));\n\t\tnaja.addEventListener('success', this.pushNewState.bind(this));\n\n\t\tnaja.uiHandler.addEventListener('interaction', this.configureMode.bind(this));\n\n\t\tthis.popStateHandler = this.handlePopState.bind(this);\n\t\tthis.historyAdapter = {\n\t\t\treplaceState: (data, title, url) => window.history.replaceState(data, title, url),\n\t\t\tpushState: (data, title, url) => window.history.pushState(data, title, url),\n\t\t};\n\t}\n\n\tinitialize(event) {\n\t\tconst {defaultOptions} = event.detail;\n\t\tif ('history' in defaultOptions && 'uiCache' in defaultOptions.history) {\n\t\t\tthis.uiCache = defaultOptions.history.uiCache;\n\t\t}\n\n\t\twindow.addEventListener('popstate', this.popStateHandler);\n\t\tthis.historyAdapter.replaceState(\n\t\t\tthis.buildState(window.location.href, this.uiCache),\n\t\t\twindow.document.title,\n\t\t\twindow.location.href,\n\t\t);\n\t}\n\n\thandlePopState(e) {\n\t\tif ( ! e.state) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.state.ui) {\n\t\t\tthis.handleSnippets(e.state.ui);\n\t\t\tthis.handleTitle(e.state.title);\n\n\t\t} else if (e.state.ui === false) {\n\t\t\tthis.naja.makeRequest(\n\t\t\t\t'GET',\n\t\t\t\te.state.href,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\thistory: false,\n\t\t\t\t\thistoryUiCache: false,\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t}\n\n\tsaveUrl(event) {\n\t\tconst {url} = event.detail;\n\t\tthis.href = url;\n\t}\n\n\tconfigureMode(event) {\n\t\tconst {element, options} = event.detail;\n\n\t\t// propagate mode to options\n\t\tif ( ! element) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (element.hasAttribute('data-naja-history') || element.form?.hasAttribute('data-naja-history')) {\n\t\t\tconst value = element.getAttribute('data-naja-history') ?? element.form?.getAttribute('data-naja-history');\n\t\t\toptions.history = this.constructor.normalizeMode(value);\n\t\t}\n\n\t\tif (element.hasAttribute('data-naja-history-cache') || element.form?.hasAttribute('data-naja-history-nocache')) {\n\t\t\tconst value = element.getAttribute('data-naja-history-cache') ?? element.form?.getAttribute('data-naja-history-cache');\n\t\t\toptions.historyUiCache = value !== 'off';\n\t\t}\n\t}\n\n\tstatic normalizeMode(mode) {\n\t\tif (mode === 'off' || mode === false) {\n\t\t\treturn false;\n\n\t\t} else if (mode === 'replace') {\n\t\t\treturn 'replace';\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpushNewState(event) {\n\t\tconst {payload, options} = event.detail;\n\t\tconst mode = this.constructor.normalizeMode(options.history);\n\t\tif (mode === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (payload.postGet && payload.url) {\n\t\t\tthis.href = payload.url;\n\t\t}\n\n\t\tconst method = mode === 'replace' ? 'replaceState' : 'pushState';\n\t\tconst uiCache = options.historyUiCache === true || (options.historyUiCache !== false && this.uiCache); // eslint-disable-line no-extra-parens\n\t\tthis.historyAdapter[method](\n\t\t\tthis.buildState(this.href, uiCache),\n\t\t\twindow.document.title,\n\t\t\tthis.href,\n\t\t);\n\n\t\tthis.href = null;\n\t}\n\n\tbuildState(href, uiCache) {\n\t\tconst state = {\n\t\t\thref,\n\t\t};\n\n\t\tif (uiCache) {\n\t\t\tstate.title = window.document.title;\n\t\t\tstate.ui = this.findSnippets();\n\n\t\t} else {\n\t\t\tstate.ui = false;\n\t\t}\n\n\t\treturn state;\n\t}\n\n\tfindSnippets() {\n\t\tconst result = {};\n\t\tconst snippets = window.document.querySelectorAll('[id^=\"snippet-\"]');\n\t\tfor (let i = 0; i < snippets.length; i++) {\n\t\t\tconst snippet = snippets.item(i);\n\t\t\tif (!snippet.hasAttribute('data-naja-history-nocache') && !snippet.hasAttribute('data-history-nocache')) {\n\t\t\t\tresult[snippet.id] = snippet.innerHTML;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\thandleSnippets(snippets) {\n\t\tthis.naja.snippetHandler.updateSnippets(snippets, true);\n\t\tthis.naja.scriptLoader.loadScripts(snippets);\n\t}\n\n\thandleTitle(title) {\n\t\twindow.document.title = title;\n\t}\n}\n","export class ScriptLoader {\n\tconstructor(naja) {\n\t\tnaja.addEventListener('success', (event) => {\n\t\t\tconst {payload} = event.detail;\n\t\t\tif (payload.snippets) {\n\t\t\t\tthis.loadScripts(payload.snippets);\n\t\t\t}\n\t\t});\n\t}\n\n\tloadScripts(snippets) {\n\t\tObject.keys(snippets).forEach((id) => {\n\t\t\tconst content = snippets[id];\n\t\t\tif ( ! /<script/i.test(content)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst el = window.document.createElement('div');\n\t\t\tel.innerHTML = content;\n\n\t\t\tconst scripts = el.querySelectorAll('script');\n\t\t\tfor (let i = 0; i < scripts.length; i++) {\n\t\t\t\tconst script = scripts.item(i);\n\t\t\t\tconst scriptEl = window.document.createElement('script');\n\t\t\t\tscriptEl.innerHTML = script.innerHTML;\n\n\t\t\t\tif (script.hasAttributes()) {\n\t\t\t\t\tconst attrs = script.attributes;\n\t\t\t\t\tfor (let j = 0; j < attrs.length; j++) {\n\t\t\t\t\t\tconst attrName = attrs[j].name;\n\t\t\t\t\t\tscriptEl[attrName] = attrs[j].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twindow.document.head.appendChild(scriptEl)\n\t\t\t\t\t.parentNode.removeChild(scriptEl);\n\t\t\t}\n\t\t});\n\t}\n}\n","import {UIHandler} from './core/UIHandler';\nimport {FormsHandler} from './core/FormsHandler';\nimport {RedirectHandler} from './core/RedirectHandler';\nimport {SnippetHandler} from './core/SnippetHandler';\nimport {HistoryHandler} from './core/HistoryHandler';\nimport {ScriptLoader} from './core/ScriptLoader';\n\nexport class Naja extends EventTarget {\n\tVERSION = 2;\n\n\tinitialized = false;\n\n\tuiHandler = null;\n\tredirectHandler = null;\n\tsnippetHandler = null;\n\tformsHandler = null;\n\thistoryHandler = null;\n\tscriptLoader = null;\n\textensions = [];\n\n\tdefaultOptions = {};\n\n\n\tconstructor(uiHandler, redirectHandler, snippetHandler, formsHandler, historyHandler, scriptLoader) {\n\t\tsuper();\n\t\tthis.uiHandler = uiHandler ? new uiHandler(this) : new UIHandler(this);\n\t\tthis.redirectHandler = redirectHandler ? new redirectHandler(this) : new RedirectHandler(this);\n\t\tthis.snippetHandler = snippetHandler ? new snippetHandler(this) : new SnippetHandler(this);\n\t\tthis.formsHandler = formsHandler ? new formsHandler(this) : new FormsHandler(this);\n\t\tthis.historyHandler = historyHandler ? new historyHandler(this) : new HistoryHandler(this);\n\t\tthis.scriptLoader = scriptLoader ? new scriptLoader(this) : new ScriptLoader(this);\n\t}\n\n\n\tregisterExtension(extension) {\n\t\tif (this.initialized) {\n\t\t\textension.initialize(this);\n\t\t}\n\n\t\tthis.extensions.push(extension);\n\t}\n\n\n\tinitialize(defaultOptions = {}) {\n\t\tif (this.initialized) {\n\t\t\tthrow new Error('Cannot initialize Naja, it is already initialized.');\n\t\t}\n\n\t\tthis.defaultOptions = defaultOptions;\n\t\tthis.extensions.forEach((extension) => extension.initialize(this));\n\n\t\tthis.dispatchEvent(new CustomEvent('init', {detail: {defaultOptions}}));\n\t\tthis.initialized = true;\n\t}\n\n\n\tasync makeRequest(method, url, data = null, options = {}) {\n\t\tif (url instanceof URL) {\n\t\t\turl = url.href;\n\t\t}\n\n\t\toptions = {\n\t\t\t...this.defaultOptions,\n\t\t\t...options,\n\t\t\tfetch: {\n\t\t\t\t...this.defaultOptions.fetch || {},\n\t\t\t\t...options.fetch || {},\n\t\t\t},\n\t\t};\n\n\t\tif (method.toUpperCase() === 'GET' && data instanceof FormData) {\n\t\t\tconst urlObject = new URL(url, location.href);\n\t\t\tfor (const [key, value] of data) {\n\t\t\t\turlObject.searchParams.append(key, value);\n\t\t\t}\n\n\t\t\turl = urlObject.toString();\n\t\t\tdata = null;\n\t\t}\n\n\t\tconst abortController = new AbortController();\n\t\tconst request = new Request(url, {\n\t\t\tcredentials: 'same-origin',\n\t\t\t...options.fetch,\n\t\t\tmethod,\n\t\t\theaders: new Headers(options.fetch.headers || {}),\n\t\t\tbody: data !== null && Object.getPrototypeOf(data) === Object.prototype\n\t\t\t\t? new URLSearchParams(data)\n\t\t\t\t: data,\n\t\t\tsignal: abortController.signal,\n\t\t});\n\n\t\t// impersonate XHR so that Nette can detect isAjax()\n\t\trequest.headers.set('X-Requested-With', 'XMLHttpRequest');\n\n\t\tif ( ! this.dispatchEvent(new CustomEvent('before', {cancelable: true, detail: {request, method, url, data, options}}))) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst promise = window.fetch(request);\n\t\tthis.dispatchEvent(new CustomEvent('start', {detail: {request, promise, abortController, options}}));\n\n\t\tlet response, payload;\n\n\t\ttry {\n\t\t\tresponse = await promise;\n\t\t\tif ( ! response.ok) {\n\t\t\t\tthrow new HttpError(response);\n\t\t\t}\n\n\t\t\tpayload = await response.json();\n\n\t\t} catch (error) {\n\t\t\tif (error.name === 'AbortError') {\n\t\t\t\tthis.dispatchEvent(new CustomEvent('abort', {detail: {request, error, options}}));\n\t\t\t\tthis.dispatchEvent(new CustomEvent('complete', {detail: {request, response, payload: undefined, error, options}}));\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(new CustomEvent('error', {detail: {request, response, error, options}}));\n\t\t\tthis.dispatchEvent(new CustomEvent('complete', {detail: {request, response, payload: undefined, error, options}}));\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tthis.dispatchEvent(new CustomEvent('success', {detail: {request, response, payload, options}}));\n\t\tthis.dispatchEvent(new CustomEvent('complete', {detail: {request, response, payload, error: undefined, options}}));\n\n\t\treturn payload;\n\t}\n}\n\nexport class HttpError extends Error {\n\tconstructor(response) {\n\t\tconst message = `HTTP ${response.status}: ${response.statusText}`;\n\t\tsuper(message);\n\n\t\tthis.name = this.constructor.name;\n\t\tthis.stack = new Error(message).stack;\n\t\tthis.response = response;\n\t}\n}\n","export class AbortExtension {\n\tinitialize(naja) {\n\t\tnaja.uiHandler.addEventListener('interaction', this.checkAbortable.bind(this));\n\t\tnaja.addEventListener('init', this.onInitialize.bind(this));\n\t\tnaja.addEventListener('before', this.checkAbortable.bind(this));\n\t\tnaja.addEventListener('start', this.saveAbortController.bind(this));\n\t\tnaja.addEventListener('complete', this.clearAbortController.bind(this));\n\t}\n\n\n\tabortable = true;\n\tabortController = null;\n\tonInitialize() {\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tif (this.abortController !== null\n\t\t\t\t&& ('key' in event ? event.key === 'Escape' : event.keyCode === 27)\n\t\t\t\t&& !(event.ctrlKey || event.shiftKey || event.altKey || event.metaKey)\n\t\t\t\t&& this.abortable\n\t\t\t) {\n\t\t\t\tthis.abortController.abort();\n\t\t\t\tthis.abortController = null;\n\t\t\t}\n\t\t});\n\t}\n\n\tcheckAbortable(event) {\n\t\tconst {element, options} = event.detail;\n\t\tthis.abortable = element\n\t\t\t? (element.getAttribute('data-naja-abort') ?? element.form?.getAttribute('data-naja-abort')) !== 'off' // eslint-disable-line no-extra-parens\n\t\t\t: options.abort !== false;\n\n\t\t// propagate to options if called in interaction event\n\t\toptions.abort = this.abortable;\n\t}\n\n\tsaveAbortController(event) {\n\t\tconst {abortController} = event.detail;\n\t\tthis.abortController = abortController;\n\t}\n\n\tclearAbortController() {\n\t\tthis.abortController = null;\n\t\tthis.abortable = true;\n\t}\n}\n","export class UniqueExtension {\n\tinitialize(naja) {\n\t\tnaja.uiHandler.addEventListener('interaction', this.checkUniqueness.bind(this));\n\t\tnaja.addEventListener('start', this.abortPreviousRequest.bind(this));\n\t\tnaja.addEventListener('complete', this.clearRequest.bind(this));\n\t}\n\n\n\tabortControllers = new Map();\n\n\tcheckUniqueness(event) {\n\t\tconst {element, options} = event.detail;\n\t\tconst unique = element.getAttribute('data-naja-unique') ?? element.form?.getAttribute('data-naja-unique');\n\t\toptions.unique = unique === 'off' ? false : unique ?? 'default';\n\t}\n\n\tabortPreviousRequest(event) {\n\t\tconst {abortController, options} = event.detail;\n\t\tif (options.unique !== false) {\n\t\t\tthis.abortControllers.get(options.unique)?.abort();\n\t\t\tthis.abortControllers.set(options.unique, abortController);\n\t\t}\n\t}\n\n\tclearRequest(event) {\n\t\tconst {request, options} = event.detail;\n\t\tif ( ! request.signal.aborted) {\n\t\t\tthis.abortControllers.delete(options.unique);\n\t\t}\n\t}\n}\n","import './polyfills';\n\nimport {Naja, HttpError} from './Naja';\nimport {AbortExtension} from './extensions/AbortExtension';\nimport {UniqueExtension} from './extensions/UniqueExtension';\n\n\nconst naja = new Naja();\nnaja.registerExtension(new AbortExtension());\nnaja.registerExtension(new UniqueExtension());\n\nnaja.Naja = Naja;\nnaja.HttpError = HttpError;\n\nexport default naja;\n"],"names":["global","Event","window","EventTarget","error","UIHandler","constructor","naja","location","origin","handleUI","bind","addEventListener","initialize","bindUI","document","body","snippetHandler","event","snippet","detail","element","selectors","selector","join","bindElement","removeEventListener","handler","elements","querySelectorAll","i","length","item","matches","bindForm","form","forms","altKey","ctrlKey","shiftKey","metaKey","button","currentTarget","options","type","submitForm","clickElement","method","url","data","dispatchEvent","CustomEvent","cancelable","originalEvent","preventDefault","tagName","href","hasAttribute","getAttribute","toUpperCase","pathname","search","FormData","append","name","value","coords","getBoundingClientRect","Math","max","floor","pageX","left","pageY","top","isUrlAllowed","makeRequest","test","allowedOrigins","some","RegExp","FormsHandler","uiHandler","processForm","initForms","netteForms","Nette","initForm","validateForm","stopImmediatePropagation","RedirectHandler","forceRedirect","payload","redirect","makeRedirect","locationAdapter","assign","force","URL","isHardRedirect","canRedirect","setHardRedirect","SnippetHandler","replace","content","innerHTML","prepend","insertAdjacentHTML","snippets","updateSnippets","fromCache","Object","keys","forEach","id","getElementById","updateSnippet","operation","op","canUpdate","changeOperation","toLowerCase","title","HistoryHandler","saveUrl","pushNewState","configureMode","popStateHandler","handlePopState","historyAdapter","replaceState","history","pushState","defaultOptions","uiCache","buildState","e","state","ui","handleSnippets","handleTitle","historyUiCache","normalizeMode","mode","postGet","findSnippets","result","scriptLoader","loadScripts","ScriptLoader","el","createElement","scripts","script","scriptEl","hasAttributes","attrs","attributes","j","attrName","head","appendChild","parentNode","removeChild","Naja","redirectHandler","formsHandler","historyHandler","registerExtension","extension","initialized","extensions","push","Error","fetch","urlObject","key","searchParams","toString","abortController","AbortController","request","Request","credentials","headers","Headers","getPrototypeOf","prototype","URLSearchParams","signal","set","promise","response","ok","HttpError","json","undefined","message","status","statusText","stack","AbortExtension","checkAbortable","onInitialize","saveAbortController","clearAbortController","keyCode","abortable","abort","UniqueExtension","Map","checkUniqueness","abortPreviousRequest","clearRequest","unique","abortControllers","get","aborted","delete"],"mappings":"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"}